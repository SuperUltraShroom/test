<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>selectedInventory</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>-1</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if room = StartMenu
{
    visible = 1;
}

image_speed = 0;

// Initialize the starting position.
xStart = 22;
yStart = 62;

// Variables to determine the selector's position. The first is columns, the second is rows.
selectPosition = 0;
rowPosition = 0;

// Don't allow the selector to be moved until it has been enabled.
enabled = 0;

canKey = 0; // Does pressing a key do anything? (Prevents accidental inputs)

itemCounter = 0; // Queue up items in an array to drop.
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if enabled
{   
    canKey = 1;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// Handle moving the selector sprite.

    if room = StartMenu
    {    
        if selectPosition &lt; 0
        {
            tempPosition = selectPosition;
            selectPosition = tempPosition + 12;
            tempPosition = 0;
        }
        if selectPosition &gt; 11
        {
            tempPosition = selectPosition;
            selectPosition = tempPosition - 12;
            tempPosition = 0;
        }
        if rowPosition &gt; 2
        {
            rowPosition = 0;
        }
        if rowPosition &lt; 0
        {
            rowPosition = 2;
        }
        if enabled
        {
            with(subMenu_obj)
            {
                instance_destroy();
            }
        }
    }
    else
    {
        enabled = 0;
        canKey = 0;
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if room = StartMenu
{
    var drawX, drawY;
    drawX = xStart; // This is used to move the X postion to the next slot.
    drawY = yStart; // This is used to move the Y postion to the next line.
    //if !instance_exists(subMenu_obj)
    //{
        // Draws the inventory sprite with the subimage of the current slot at the current slot's position
        if selectPosition &lt;= 2
        {
            draw_sprite(sprite_index, 0 ,drawX+sprite_width*rowPosition, drawY);
        }
        if selectPosition &gt; 2 &amp;&amp; selectPosition &lt;= 5 
        {
            draw_sprite(sprite_index, 0 ,drawX+sprite_width*rowPosition, drawY+sprite_width);
        }
        if selectPosition &gt; 5 &amp;&amp; selectPosition &lt;= 8
        {
            draw_sprite(sprite_index, 0 ,drawX+sprite_width*rowPosition, drawY+sprite_width*2);
        }
        if selectPosition &gt; 8 &amp;&amp; selectPosition &lt;= 11
        {
            draw_sprite(sprite_index, 0 ,drawX+sprite_width*rowPosition, drawY+sprite_width*3);
        }
    
        drawX += sprite_width; // Move to the next slot.
    //}
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="70">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if room = StartMenu
{
    if enabled = 1
    {
        instance_create(173,54,subMenu_obj);
        enabled = 0;
        visible = 0;
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="40">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if enabled = 1
{
    if room = StartMenu
    {
        if canKey = 1
        {
        }
        else
        {
            canKey = 1;
        }
        selectPosition += 3;
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="39">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if enabled = 1
{
    if room = StartMenu
    {
        if canKey = 1
        {
        }
        else
        {
            canKey = 1;
        }
        selectPosition += 1;
        rowPosition += 1;
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="38">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if enabled = 1
{
    if room = StartMenu
    {
        if canKey = 1
        {
        }
        else
        {
            canKey = 1;
        }
        selectPosition -= 3;
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="37">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if enabled = 1
{
    if room = StartMenu
    {
        if canKey = 1
        {
        }
        else
        {
            canKey = 1;
        }
        selectPosition -= 1;
        rowPosition -= 1;
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="32">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// For now, let's just say space drops the item again.
if room = StartMenu
{
    if canKey = 1
    {
        // We'll drop the item here now, but we need to have an index
        // count how many items we've dropped so that we don't delete any,
        // and they all end up on the ground in a neat little pile.
        itemCounter++;
        dropItem(selectPosition+1, itemCounter);
    }
    else
    {
        alarm[0] = 1;
    }
}

/*NOTE: This uses +1 to actually hit the correct slot, since for some reason
just using selectPosition as the index makes it drop the item one index behind
the item you've selected (index 0 is deleted on what should be index 1). The
exact cause of this is unknown, but using +1 here does correct the mistake. 
*/

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>22,22</point>
    <point>22,22</point>
  </PhysicsShapePoints>
</object>
